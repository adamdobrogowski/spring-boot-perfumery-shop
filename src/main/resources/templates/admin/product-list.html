<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: head('Zarządzanie Produktami')}"></head>
<body>
<nav th:replace="~{fragments/header :: navbar}"></nav>

<main class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Zarządzanie Produktami</h1>
    <div>
      <a th:href="@{/admin/products/add}" class="btn btn-primary">+ Dodaj nowy produkt</a>
      <a th:href="@{/admin/dashboard}" class="btn btn-outline-secondary">Powrót do dashboardu</a>
    </div>
  </div>

  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead class="table-light">
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Nazwa</th>
        <th scope="col">Marka</th>
        <th scope="col" class="text-end">Cena</th>
        <th scope="col" class="text-center">Akcje</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="perfume : ${perfumes}">
        <th scope="row" th:text="${perfume.id}">1</th>
        <td th:text="${perfume.name}">Nazwa Perfum</td>
        <td th:text="${perfume.brand?.name}">Nazwa Marki</td>
        <td class="text-end" th:text="${perfume.price} + ' zł'">299.99</td>
        <td class="text-center">
          <a th:href="@{/admin/products/edit/{id}(id=${perfume.id})}" class="btn btn-sm btn-secondary">Edytuj</a>
          <form th:action="@{/admin/products/delete/{id}(id=${perfume.id})}" method="post" class="d-inline ms-1">
            <button type="submit" class="btn btn-sm btn-danger"
                    onclick="return confirm('Czy na pewno chcesz usunąć ten produkt?')">
              Usuń
            </button>
          </form>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</main>

<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>